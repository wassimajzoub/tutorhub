{% extends 'base.html' %}

{% block title %}{{ action }} Student - TutorHub{% endblock %}

{% block content %}
<div class="bg-gray-50 min-h-screen py-12 px-4">
    <div class="max-w-2xl mx-auto">
        <div class="bg-white rounded-lg shadow-lg p-8">
            <div class="mb-8">
                <h1 class="text-3xl font-bold text-gray-900">{{ action }} Student</h1>
                <p class="text-gray-600 mt-2">
                    {% if action == 'Add' %}
                        Enter the details for your new student
                    {% else %}
                        Update student information
                    {% endif %}
                </p>
            </div>

            {% if errors %}
            <div class="bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg mb-6">
                {% for error in errors %}
                <p class="text-sm">{{ error }}</p>
                {% endfor %}
            </div>
            {% endif %}

            <form method="POST" action="{% if action == 'Add' %}{{ url_for('students.add_student') }}{% else %}{{ url_for('students.edit_student', student_id=student.id) }}{% endif %}" class="space-y-6">
                <!-- Student Information Section -->
                <div class="border-b border-gray-200 pb-6">
                    <h2 class="text-lg font-semibold text-gray-900 mb-4">Student Information</h2>

                    <div>
                        <label for="name" class="block text-sm font-medium text-gray-700 mb-1">Student Name</label>
                        <input type="text" id="name" name="name" required
                            value="{{ student.name if student else '' }}"
                            class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent"
                            placeholder="John Smith">
                    </div>

                    <div class="mt-4 grid grid-cols-2 gap-4">
                        <div>
                            <label for="grade_level" class="block text-sm font-medium text-gray-700 mb-1">Grade Level</label>
                            <input type="text" id="grade_level" name="grade_level"
                                value="{{ student.grade_level if student else '' }}"
                                class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent"
                                placeholder="10th Grade">
                        </div>

                        <div>
                            <label for="subject" class="block text-sm font-medium text-gray-700 mb-1">Subject</label>
                            <input type="text" id="subject" name="subject"
                                value="{{ student.subject if student else '' }}"
                                class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent"
                                placeholder="Mathematics">
                        </div>
                    </div>

                    <div class="mt-4">
                        <label for="notes" class="block text-sm font-medium text-gray-700 mb-1">Notes</label>
                        <textarea id="notes" name="notes" rows="4"
                            class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent"
                            placeholder="Special needs, learning goals, etc.">{{ student.notes if student else '' }}</textarea>
                    </div>
                </div>

                <!-- Parent Information Section -->
                <div class="border-b border-gray-200 pb-6">
                    <h2 class="text-lg font-semibold text-gray-900 mb-4">Parent/Guardian Information</h2>

                    <div>
                        <label for="parent_name" class="block text-sm font-medium text-gray-700 mb-1">Parent/Guardian Name</label>
                        <input type="text" id="parent_name" name="parent_name" required
                            value="{{ student.parent_name if student else '' }}"
                            class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent"
                            placeholder="Jane Smith">
                    </div>

                    <div class="mt-4">
                        <label for="parent_email" class="block text-sm font-medium text-gray-700 mb-1">Parent Email</label>
                        <input type="email" id="parent_email" name="parent_email"
                            value="{{ student.parent_email if student else '' }}"
                            class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent"
                            placeholder="jane@example.com">
                    </div>

                    <div class="mt-4">
                        <label for="parent_phone" class="block text-sm font-medium text-gray-700 mb-1">Parent Phone</label>
                        <input type="tel" id="parent_phone" name="parent_phone"
                            value="{{ student.parent_phone if student else '' }}"
                            class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent"
                            placeholder="+1 (555) 000-0000">
                    </div>
                </div>

                <!-- Submit Buttons -->
                <div class="flex gap-3">
                    <button type="submit"
                        class="flex-1 bg-indigo-600 hover:bg-indigo-700 text-white font-semibold py-2 px-4 rounded-lg transition duration-200">
                        {% if action == 'Add' %}
                            Add Student
                        {% else %}
                            Save Changes
                        {% endif %}
                    </button>
                    <a href="{{ url_for('students.list_students') }}"
                        class="flex-1 bg-gray-200 hover:bg-gray-300 text-gray-800 font-semibold py-2 px-4 rounded-lg transition duration-200 text-center">
                        Cancel
                    </a>
                </div>
            </form>
        </div>
    </div>
</div>
{% endblock %}
